{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u9996\u9875","text":""},{"location":"#_2","title":"\u5b66\u4e60\u7b14\u8bb0","text":""},{"location":"#linux","title":"Linux","text":""},{"location":"#macos","title":"MacOS","text":""},{"location":"1_Linux/1_faq/","title":"foo.md","text":""},{"location":"1_Linux/ubuntu20.04_system_setup/","title":"Ubuntu20.04 Mininal\u5b89\u88c5\u540e\u7cfb\u7edf\u914d\u7f6e","text":""},{"location":"1_Linux/ubuntu20.04_system_setup/#_1","title":"\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u8bbe\u7f6e\u7684","text":"<ul> <li>\u624b\u52a8\u914d\u7f6e\u7f51\u7edc,\u914d\u7f6e\u56fa\u5b9aIP</li> <li>\u4fee\u6539apt\u6e90:mirrors.ustc.edu.cn</li> <li>\u8bbe\u7f6e\u7528\u6237\u53ca\u5bc6\u7801</li> <li>\u5206\u533a(\u4e2a\u4eba\u4e60\u60ef\u662f\u4e0d\u9009\u4e2dLVM),\u5982\u679c\u6709\u5176\u4ed6\u786c\u76d8\u4e5f\u53ef\u5728\u8fd9\u91cc\u76f4\u63a5\u6302\u8f7d,\u5982\u679c\u6ca1\u6570\u636e\u6216\u6570\u636e\u4e0d\u91cd\u8981,\u4e5f\u53ef\u4ee5\u91cd\u65b0\u5206\u533a\u5e76\u6302\u8f7d</li> </ul>"},{"location":"1_Linux/ubuntu20.04_system_setup/#ssh","title":"\u4fee\u6539SSH\u914d\u7f6e","text":"<ul> <li>\u7528\u5b89\u88c5\u8bbe\u7f6e\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fde\u63a5\u670d\u52a1\u5668</li> <li>\u5148\u66f4\u65b0\u6e90</li> </ul> <pre><code>sudo apt update\nsudo apt -y upgrade\n</code></pre> <pre><code>sudo vim /etc/ssh/sshd_config\n\nLoginGraceTime 2m\nPermitRootLogin prohibit-password\nMaxAuthTries 6\nTCPKeepAlive yes\nClientAliveInterval 60\nClientAliveCountMax 3\nUseDNS no\n\nsudo systemctl restart sshd\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#ufw","title":"\u5173\u95edufw\u9632\u706b\u5899\u5e76\u5378\u8f7d","text":"<p><code>sudo ufw disable &amp;&amp; sudo apt-get -y remove ufw</code></p>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_2","title":"\u4fee\u6539\u65f6\u533a,\u5e76\u8bbe\u7f6e\u65f6\u95f4\u81ea\u52a8\u540c\u6b65","text":""},{"location":"1_Linux/ubuntu20.04_system_setup/#_3","title":"\u4fee\u6539\u65f6\u533a","text":"<pre><code>sudo timedatectl set-timezone Asia/Shanghai\ndate\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_4","title":"\u8bbe\u7f6e\u65f6\u95f4\u81ea\u52a8\u540c\u6b65","text":"<pre><code>sudo apt install chrony -y\nsudo vim /etc/chrony/chrony.conf\n\npool ntp.aliyun.com\npool time1.cloud.tencent.com\npool time.ustc.edu.cn\n\nsudo systemctl enable chrony\nsudo systemctl start chrony\nsudo systemctl status chrony\n\nchronyc sources -v\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_5","title":"\u5b89\u88c5\u5e38\u7528\u8f6f\u4ef6","text":"<pre><code>sudo apt -y install net-tools zip unzip dstat nload screen htop tmux software-properties-common tree\n</code></pre> <p>\u7269\u7406\u673a\u53ef\u9009</p> <pre><code>sudo apt -y install rt-tests lm-sensors\n</code></pre> <p>\u5176\u4ed6\u5e93</p> <pre><code>sudo apt -y install build-essential gzip libsdl2-2.0-0 libsdl2-dev lib32stdc++6 asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 unzip zlib1g-dev libc6-dev-i386 subversion flex uglifyjs git-core gcc-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils libelf-dev autoconf automake libtool autopoint device-tree-compiler g++-multilib antlr3 gperf wget curl swig rsync cmake libicu-dev\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#rclocal","title":"\u5f00\u673a\u81ea\u52a8\u8fd0\u884crc.local","text":"<pre><code>sudo vim /lib/systemd/system/rc-local.service\n[Install]\nWantedBy=multi-user.target\nAlias=rc-local.service\n\nsudo touch /etc/rc.local\nsudo chmod 755 /etc/rc.local\nsudo vim /etc/rc.local\n\n#!/bin/bash\n\nsudo systemctl daemon-reload\nsudo systemctl start rc-local.service\nsudo systemctl status rc-local.service\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#network","title":"\u5f00\u673a\u65f6\u5728network\u90a3\u91cc\u5361\u597d\u4e45","text":"<pre><code>sudo vim /etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service\n\n[Service]\nType=oneshot\nExecStart=/lib/systemd/systemd-networkd-wait-online\nRemainAfterExit=yes\nTimeoutStartSec=2sec\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#cpu","title":"\u7269\u7406\u673a\u66f4\u6539CPU\u8fd0\u884c\u6a21\u5f0f\u4e3a\u6027\u80fd\u6a21\u5f0f","text":"<pre><code>sudo apt -y install cpufrequtils sysfsutils\n\u67e5\u770bCPU\u8fd0\u884c\u6a21\u5f0f\ncpufreq-info\n\u67e5\u770bCPU\u5f53\u524d\u5de5\u4f5c\u4e3b\u9891\ncat /sys/devices/system/cpu/*/cpufreq/scaling_cur_freq\n\nsudo cpufreq-set -c 0 -g performance\nsudo cpufreq-set -c 1 -g performance\nsudo cpufreq-set -c 2 -g performance\nsudo cpufreq-set -c 3 -g performance\nsudo cpufreq-set -c 4 -g performance\nsudo cpufreq-set -c 5 -g performance\nsudo cpufreq-set -c 6 -g performance\nsudo cpufreq-set -c 7 -g performance\n\nsudo cpufreq-set -c 8 -g performance\nsudo cpufreq-set -c 9 -g performance\nsudo cpufreq-set -c 10 -g performance\nsudo cpufreq-set -c 11 -g performance\nsudo cpufreq-set -c 12 -g performance\nsudo cpufreq-set -c 13 -g performance\nsudo cpufreq-set -c 14 -g performance\nsudo cpufreq-set -c 15 -g performance\n\nsudo vim /etc/sysfs.conf\n\ndevices/system/cpu/cpu0/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu1/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu2/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu3/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu4/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu5/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu6/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu7/cpufreq/scaling_governor = performance\n\ndevices/system/cpu/cpu8/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu9/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu10/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu11/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu12/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu13/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu14/cpufreq/scaling_governor = performance\ndevices/system/cpu/cpu15/cpufreq/scaling_governor = performance\n\nsudo systemctl restart sysfsutils\nsudo systemctl status sysfsutils\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#iptables","title":"iptables\u9632\u706b\u5899","text":""},{"location":"1_Linux/ubuntu20.04_system_setup/#_6","title":"\u5b89\u88c5\u9632\u706b\u5899\u5e76\u521b\u5efa\u9ed1\u540d\u5355","text":"<pre><code>sudo apt -y install iptables-persistent ipset\nsudo modprobe ipt_recent ip_list_tot=1000000\nsudo cat /sys/module/xt_recent/parameters/ip_list_tot\n\u521b\u5efaIP\u9ed1\u540d\u5355\nsudo ipset create banip hash:net maxelem 1000000 timeout 0\nsudo ipset create blackip hash:ip maxelem 1000000 timeout 600\n\u4fdd\u5b58IP\u9ed1\u540d\u5355\nsudo ipset save banip -f /etc/iptables/banip\nsudo ipset save blackip -f /etc/iptables/blackip\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_7","title":"\u7f16\u8f91\u9632\u706b\u5899\u89c4\u5219","text":"<pre><code>sudo vim /etc/iptables/rules.v4\n\n*filter\n:INPUT DROP [0:0]\n:FORWARD DROP [0:0]\n:OUTPUT ACCEPT [0:0]\n\n-A INPUT -i lo -j ACCEPT\n-A INPUT -s 172.16.0.0/24 -j ACCEPT\n\n-A INPUT -p udp -m multiport --dports 26900:27014 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27015 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27016 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27017 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27018 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27019 -j ACCEPT\n-A INPUT -p udp -m udp --dport 27020 -j ACCEPT\n\n-A INPUT -p tcp -m multiport --dports 22,80,443 -j ACCEPT\n-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\n-A INPUT -p udp -m udp --sport 53 -j ACCEPT\n-A INPUT -m conntrack --ctstate INVALID -j DROP\n-A INPUT -j REJECT --reject-with icmp-host-prohibited\n-A FORWARD -j REJECT --reject-with icmp-host-prohibited\nCOMMIT\n\n*nat\n:INPUT ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n:POSTROUTING ACCEPT [0:0]\n:PREROUTING ACCEPT [0:0]\n\nCOMMIT\n\n*raw\n:OUTPUT ACCEPT [0:0]\n:PREROUTING ACCEPT [0:0]\n\n-A PREROUTING -s 172.16.0.0/24 -j ACCEPT\n\n-A PREROUTING -p udp -m string --hex-string \"|74496e666f457800484c5357|\" --algo kmp -j MARK --set-xmark 0x1/0xffffffff\n-A PREROUTING -p udp -m mark --mark 0x1 -j SET --add-set blackip src\n-A PREROUTING -p udp -m set --match-set blackip src -j DROP\n-A PREROUTING -m set --match-set banip src -j DROP\n\nCOMMIT\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_8","title":"\u5bfc\u5165\u9632\u706b\u5899\u89c4\u5219","text":"<pre><code>sudo iptables-restore &lt; /etc/iptables/rules.v4\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_9","title":"\u67e5\u770b\u9632\u706b\u5899\u89c4\u5219","text":"<pre><code>sudo iptables -t filter -nL --line-number\nsudo iptables -t nat -nL --line-number\nsudo iptables -t raw -nL --line-number\n</code></pre>"},{"location":"1_Linux/ubuntu20.04_system_setup/#_10","title":"\u6dfb\u52a0\u5230\u5f00\u673a\u542f\u52a8","text":"<pre><code>sudo vim /etc/rc.local\n\n#!/bin/bash\nsleep 3\nmodprobe ipt_recent ip_list_tot=1000000\n\nsleep 3\nipset restore -f /etc/iptables/banip\nsleep 3\nipset restore -f /etc/iptables/blackip\nsleep 3\niptables-restore &lt; /etc/iptables/rules.v4\n\nsleep 5\nsystemctl restart sysfsutils\n</code></pre>"},{"location":"20_Picture/20_faq/","title":"foo.md","text":""},{"location":"21_Audio/21_faq/","title":"foo.md","text":""},{"location":"22_Video/22_faq/","title":"foo.md","text":""},{"location":"23_Game/23_1_hlds/","title":"HLDS","text":"<p>Start typing here...</p>"},{"location":"23_Game/23_faq/","title":"foo.md","text":""},{"location":"2_MacOS/2_1_0_usb/","title":"\u5b9a\u5236USB\u63a5\u53e3","text":""},{"location":"2_MacOS/2_1_1_opencore_efi/","title":"0.\u5236\u4f5cOpenCore\u5f15\u5bfc","text":"<p>Start typing here...</p>"},{"location":"2_MacOS/2_1_2_macos_uboot/","title":"1.\u5236\u4f5cMacOS\u5b89\u88c5U\u76d8","text":"<p>Start typing here...</p>"},{"location":"2_MacOS/2_faq/","title":"foo.md","text":""},{"location":"3_Windows/3_faq/","title":"foo.md","text":""},{"location":"4_Storage_Nas/4_1_synology/","title":"Synology","text":"<p>Start typing here...</p>"},{"location":"4_Storage_Nas/4_2_truenas/","title":"TrueNas","text":"<p>Start typing here...</p>"},{"location":"4_Storage_Nas/4_faq/","title":"foo.md","text":""},{"location":"5_Router/5_1_ros/","title":"RouterOS","text":"<p>Start typing here...</p>"},{"location":"5_Router/5_2_openwrt/","title":"OpenWRT","text":"<p>Start typing here...</p>"},{"location":"5_Router/5_faq/","title":"foo.md","text":""},{"location":"6_Network/6_1_switch/","title":"\u4ea4\u6362\u673a","text":"<p>Start typing here...</p>"},{"location":"6_Network/6_faq/","title":"foo.md","text":""},{"location":"7_Embedded/7_1_0_soft/","title":"0.\u8f6f\u4ef6\u5b89\u88c5","text":"<p>Start typing here...</p>"},{"location":"7_Embedded/7_1_1_gpio_led/","title":"1.\u793a\u4f8b1-\u70b9\u4eaeLED\u706f","text":"<p>Start typing here...</p>"},{"location":"7_Embedded/7_faq/","title":"foo.md","text":""},{"location":"8_Dev/8_faq/","title":"foo.md","text":""}]}